<form [formGroup]="bookForm"  (ngSubmit)="onSubmit()">



  <div formArrayName="books">
  
  
  
      <div *ngFor="let book of books().controls;  let bookIndex=index">
  
  
  
  
          <div [formGroupName]="bookIndex" style="border:1px solid blue;padding:10px;width:600px;margin:10px;">
  
              {{bookIndex}}
  
  
  
              <!-- Name -->
  
              <p>
  
                  <label for="id">ID</label>
  
                  <input class="form-control" type="number" name="id" id="id" formControlName="id">
  
              </p>
  
             
  
  
  
              <!-- Title -->
  
  
  
              <p>
  
                  <label for="name">Title</label>
  
                  <input class="form-control" type="text" name="name" id="name" formControlName="title">
  
              </p>
  
             
  
  
  
              <!-- Date -->
  
  
  
              <p>
  
                  <label for="dateOf">Date</label>
  
                  <input class="form-control" type="date" name="dateOf" id="dateOf" formControlName="dateOf">
  
              </p>
  
             
  
  
  
              <!-- Book Author -->
  
  
  
              <div formGroupName="author">
  
                  <!-- Author Name -->
  
                  <p>
  
                      <label  for="authorName">Author Name</label>
  
                      <input class="form-control"  type="text" name="authorName" id="authorName"
  
                      formControlName="authorName">
  
                  </p>
  
                 
  
                  <!-- Author email -->
  
                  <p>
  
                      <label for="authorEmail">Author Email</label>
  
                      <input  class="form-control" type="email" name="authorEmail" id="authorEmail"
  
                      formControlName="authorEmail">
  
                  </p>
  
                 
  
              </div>  
  
  
  
  
              <button (click)="removeBook(bookIndex)">Remove Book</button>
  
  
  
  
              <!-- Publisher -->
  
              <div formArrayName="publishers">
  
                  <div *ngFor="let publisher of bookPublishers(bookIndex).controls;let publisherIndex=index;">
  
                      <div [formGroupName]="bookIndex">
  
                      {{publisherIndex}}Publisher:
  
                      <input class='form-control' type="text" name="publisherName" id="publisherName" placeholder="publisherName" formControlName="publisherName"/>
  
                      <input class='form-control' type="email" name="publishersEmail" id="publishersEmail" placeholder="publishersEmail" formControlName="publishersEmail"/>
  
                      <input class='form-control' type="date" name="publishedDate" id="publishedDate" placeholder="publishedDate" formControlName="publishedDate"/>
  
                      <button (click)="removeBookPublish(bookIndex,publisherIndex)">Remove Publisher</button>
  
                      </div>
  
                  </div>
  
              </div>
  
              <button type="button" (click)="addBookPublish(bookIndex)">Add Publisher</button>
  
  
  
          </div>
  
      </div>
  
  
  
  
  <button type="button" (click)="addBook()">Add Book</button>
  
  
  
  
  </div>
  
  
  
  </form>